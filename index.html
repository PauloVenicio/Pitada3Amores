<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Card√°pio Online - Pitada de 3 Amores</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      background: #fff8f2;
      color: #333;
      transition: background 0.3s, color 0.3s;
    }
    header {
      background-color: #ff6b00;
      color: white;
      padding: 20px;
      text-align: center;
    }
    #dataHora {
      font-size: 14px;
      margin-top: 5px;
      color: #ffe5d0;
    }
    .container {
      max-width: 1100px;
      margin: 30px auto;
      padding: 0 20px;
    }
    .busca {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .busca input {
      width: 60%;
      max-width: 400px;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    .busca button {
      padding: 10px 15px;
      background: #ff6b00;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;
    }
    .produto {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
    }
    .card {
      background: white;
      border: 1px solid #ddd;
      border-radius: 10px;
      width: 250px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
      transition: transform 0.3s ease;
      position: relative;
    }
    .card:hover {
      transform: scale(1.03);
    }
    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }
    .card-content {
      padding: 15px;
      text-align: center;
    }
    .preco {
      color: #ff6b00;
      font-weight: bold;
      font-size: 18px;
    }
    .quantidade-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
    }
    .quantidade-container input[type="number"] {
      width: 50px;
      padding: 5px;
      border-radius: 5px;
      border: 1px solid #ccc;
      text-align: center;
    }
    .resumo, .endereco {
      background: #fff0e6;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: 20px auto;
      text-align: center;
    }
    .endereco input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    .pix, .whatsapp {
      margin: 40px auto;
      text-align: center;
    }
    .pix span {
      background: #ffdecc;
      padding: 10px 20px;
      border-radius: 8px;
      display: inline-block;
      font-weight: bold;
      color: #333;
    }
    .pix button {
      background-color: #ff6b00;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 15px;
    }
    .whatsapp a {
      display: inline-block;
      background: #25d366;
      color: white;
      padding: 15px 25px;
      border-radius: 5px;
      text-decoration: none;
      font-size: 18px;
    }
    footer {
      background: #ff6b00;
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 40px;
    }
    @media (max-width: 600px) {
      .card {
        width: 90%;
      }
    }
    #btnTopo, #btnModoNoturno {
      position: fixed;
      right: 20px;
      z-index: 1000;
      border: none;
      padding: 10px 15px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    }
    #btnTopo {
      bottom: 20px;
      background-color: #ff6b00;
      color: white;
      display: none;
    }
    #btnModoNoturno {
      bottom: 80px;
      background-color: #333;
      color: white;
    }
    body.dark-mode {
      background: #121212;
      color: #eee;
    }
    body.dark-mode .card,
    body.dark-mode .resumo,
    body.dark-mode .endereco {
      background: #1e1e1e;
      border-color: #444;
    }
    body.dark-mode .pix span {
      background: #333;
      color: #eee;
    }
  </style>
</head>
<body onload="embaralharProdutos(); carregarEndereco(); atualizarDataHora();">

<header>
  <h1>üçî Pitada de 3 Amores</h1>
  <p>Seu cat√°logo de lanches, doces e muito mais.</p>
  <p> Hor√°rio de atendimento: 10:00 √†s 22:00</p>
  <div id="dataHora"></div>
</header>

<div class="container">

  <!-- CAMPO DE BUSCA -->
  <div class="busca">
    <input type="text" id="campoBusca" placeholder="Digite o nome do produto...">
    <button onclick="filtrarProdutos()">üîç</button>
  </div>

  <section class="produto" id="listaProdutos">
    <!-- PRODUTOS EXEMPLO -->
    <div class="card">
      <img src="img/lasanha.jpg" alt="Lasanha">
      <div class="card-content">
        <h3>Fatia de Lasanha</h3>
        <p class="preco">R$ 12,00</p>
        <div class="quantidade-container">
          <input type="checkbox" class="produto-check" data-nome="Lasanha" data-preco="12.00" onchange="atualizarResumo()">
          <input type="number" class="quantidade" value="1" min="1" onchange="atualizarResumo()">
        </div>
      </div>
    </div>

    <div class="card">
      <img src="img/bolo de cenoura.jpg" alt="Fatia de bolo de Cenoura">
      <div class="card-content">
        <h3>Fatia de bolo de Cenoura</h3>
        <p class="preco">R$ 6,00</p>
        <div class="quantidade-container">
          <input type="checkbox" class="produto-check" data-nome="Fatia de bolo de Cenoura" data-preco="6.00" onchange="atualizarResumo()">
          <input type="number" class="quantidade" value="1" min="1" onchange="atualizarResumo()">
        </div>
      </div>
    </div>

    <div class="card">
      <img src="img/creme de galinha.jpg" alt="Por√ß√£o de Creme de Galinha">
      <div class="card-content">
        <h3>Por√ß√£o de Creme de Galinha</h3>
        <p class="preco">R$ 6,00</p>
        <div class="quantidade-container">
          <input type="checkbox" class="produto-check" data-nome="Por√ß√£o de Creme de Galinha" data-preco="6.00" onchange="atualizarResumo()">
          <input type="number" class="quantidade" value="1" min="1" onchange="atualizarResumo()">
        </div>
      </div>
    </div>

    <div class="card">
      <img src="img/tortelete de queijo.jpg" alt="Tortelete de Queijo">
      <div class="card-content">
        <h3>Tortelete de Queijo</h3>
        <p class="preco">R$ 5,00</p>
        <div class="quantidade-container">
          <input type="checkbox" class="produto-check" data-nome="Tortelete de Queijo" data-preco="5.00" onchange="atualizarResumo()">
          <input type="number" class="quantidade" value="1" min="1" onchange="atualizarResumo()">
        </div>
      </div>
    </div>   
  </section>

  <div class="resumo">
    <h3>Resumo do Pedido</h3>
    <p>Subtotal: R$ <span id="subtotal">0.00</span></p>
    <p>Taxa de Entrega: R$ <span id="taxaEntrega">6.00</span></p>
    <p><strong>Total: R$ <span id="total">6.00</span></strong></p>
  </div>

  <div class="endereco">
    <h3>Endere√ßo para Entrega</h3>
    <input type="text" id="nome" placeholder="Seu nome ou apelido" oninput="salvarEndereco()">
    <input type="text" id="rua" placeholder="Rua e N√∫mero" oninput="salvarEndereco()">
    <input type="text" id="referencia" placeholder="Ponto de Refer√™ncia" oninput="salvarEndereco()">
    <label style="display:block; margin-top:10px; text-align:left;">
      <input type="checkbox" id="retirada" onchange="atualizarResumo();"> Retirada no local (sem taxa de entrega)
    </label>
  </div>

  <div class="pix">
    <h2>Pagamento via Pix</h2>
    <p>Use a chave abaixo para efetuar o pagamento:</p>
    <span id="chavePix">027.705.213-06</span><br><br>
    <button onclick="copiarChavePix()">üìã Copiar Chave Pix</button>
    <p id="mensagemCopiado" style="color: green; display: none; margin-top: 10px;">
      Chave copiada! Envie Comprovante, Obrigado volte sempre!
    </p>
  </div>

  <div class="whatsapp">
    <h2>Fa√ßa seu pedido agora!</h2>
    <a href="#" target="_blank" onclick="enviarPedido()">üì≤ Pedir via WhatsApp</a>
  </div>
</div>

<footer>
  <p>&copy; 2025 Paulo Carvalho PC - Todos os direitos reservados.</p>
</footer>

<!-- BOT√ïES -->
<button id="btnTopo" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">‚Üë</button>
<button id="btnModoNoturno" onclick="document.body.classList.toggle('dark-mode')">üåô</button>

<script>
  function atualizarResumo() {
    let subtotal = 0;
    document.querySelectorAll('.produto-check').forEach((checkbox, i) => {
      if (checkbox.checked) {
        let preco = parseFloat(checkbox.dataset.preco);
        let quantidade = parseInt(document.querySelectorAll('.quantidade')[i].value);
        subtotal += preco * quantidade;
      }
    });

    let retirada = document.getElementById("retirada").checked;
    let taxaEntrega = retirada ? 0 : 6;

    document.getElementById("subtotal").textContent = subtotal.toFixed(2);
    document.getElementById("taxaEntrega").textContent = taxaEntrega.toFixed(2);
    document.getElementById("total").textContent = (subtotal + taxaEntrega).toFixed(2);
  }

  function copiarChavePix() {
    navigator.clipboard.writeText(document.getElementById("chavePix").innerText).then(() => {
      let msg = document.getElementById("mensagemCopiado");
      msg.style.display = "block";
      setTimeout(() => msg.style.display = "none", 2000);
    });
  }

  function enviarPedido() {
    let mensagem = "Ol√°! Quero fazer um pedido:%0A";
    let subtotal = 0, algum = false;

    document.querySelectorAll('.produto-check').forEach((checkbox, i) => {
      if (checkbox.checked) {
        let nome = checkbox.dataset.nome;
        let preco = parseFloat(checkbox.dataset.preco);
        let qtd = parseInt(document.querySelectorAll('.quantidade')[i].value);
        subtotal += preco * qtd;
        mensagem += `- ${qtd}x ${nome} (R$ ${(preco * qtd).toFixed(2)})%0A`;
        algum = true;
      }
    });

    if (!algum) return alert("Selecione ao menos um produto.");

    let retirada = document.getElementById("retirada").checked;
    let taxaEntrega = retirada ? 0 : 6;

    // nome/apelido
    let nomeCliente = document.getElementById("nome").value.trim();
    if (nomeCliente) mensagem += `%0Aüôã Nome/Apelido: ${nomeCliente}`;

    mensagem += `%0ASubtotal: R$ ${subtotal.toFixed(2)}`;
    mensagem += `%0ATaxa de Entrega: R$ ${taxaEntrega.toFixed(2)}`;
    mensagem += `%0ATotal: R$ ${(subtotal + taxaEntrega).toFixed(2)}`;

    if (retirada) {
      mensagem += `%0A‚úÖ Pedido para retirada no local.`;
    } else {
      let rua = document.getElementById("rua").value.trim();
      if (!rua) return alert("Preencha o endere√ßo.");
      mensagem += `%0Aüöö Endere√ßo: ${rua}`;
      let ref = document.getElementById("referencia").value.trim();
      if (ref) mensagem += `%0Aüìç Refer√™ncia: ${ref}`;
    }

    window.open(`https://wa.me/5599988526703?text=${mensagem}`, "_blank");
  }

  function embaralharProdutos() {
    const container = document.getElementById("listaProdutos");
    const cards = Array.from(container.children);
    cards.sort(() => Math.random() - 0.5).forEach(c => container.appendChild(c));
  }

  function salvarEndereco() {
    localStorage.setItem("nome", document.getElementById("nome").value);
    localStorage.setItem("rua", document.getElementById("rua").value);
    localStorage.setItem("referencia", document.getElementById("referencia").value);
    // ‚ùå n√£o salva mais o estado do checkbox retirada
  }

  function carregarEndereco() {
    document.getElementById("nome").value = localStorage.getItem("nome") || "";
    document.getElementById("rua").value = localStorage.getItem("rua") || "";
    document.getElementById("referencia").value = localStorage.getItem("referencia") || "";
    // ‚úÖ sempre inicia desmarcado
    document.getElementById("retirada").checked = false;
    atualizarResumo();
  }

  function atualizarDataHora() {
    const agora = new Date();

    const diasSemana = ["domingo","segunda-feira","ter√ßa-feira","quarta-feira","quinta-feira","sexta-feira","s√°bado"];
    const diaSemana = diasSemana[agora.getDay()];

    const dia = String(agora.getDate()).padStart(2, '0');
    const mes = String(agora.getMonth() + 1).padStart(2, '0');
    const ano = agora.getFullYear();

    const hora = String(agora.getHours()).padStart(2, '0');
    const minuto = String(agora.getMinutes()).padStart(2, '0');

    const dataFormatada = `${diaSemana}, ${dia}/${mes}/${ano} - ${hora}:${minuto}`;
    document.getElementById("dataHora").textContent = dataFormatada;
  }

  setInterval(atualizarDataHora, 60000);

  // üîç FILTRAR PRODUTOS
  function filtrarProdutos() {
    let termo = document.getElementById("campoBusca").value.toLowerCase();
    document.querySelectorAll(".card").forEach(card => {
      let nome = card.querySelector("h3").textContent.toLowerCase();
      card.style.display = nome.includes(termo) ? "block" : "none";
    });
  }
  document.getElementById("campoBusca").addEventListener("input", filtrarProdutos);
</script>

</body>
</html>
